
<h1>Add a <%= params[:type] || "hero" %> to your team!</h1>

<section>
<%= form_tag("/matches/#{@match.id}/teams/#{@team.id}/edit", method: "get") do %>
  <%= hidden_field_tag :type, params[:type] || :hero %>
  <%= label_tag(:q, "Search for:") %>
  <%= text_field_tag(:q) %>
  <%= submit_tag("Search") %>
<% end %>
</section>

<section>
<% if @heroes.nil? == false %>
  <%= form_for @team, url: {action: "update"}, html: {class: "add_team"} do |f| %>
    <%= hidden_field_tag :type, params[:type] || :hero %>
    <% @heroes.each do |hero| %>
      <%= radio_button_tag(:character_id, hero["id"]) %>
      <%= label_tag(:character_id, hero["name"]) %><br>
    <%end%>
    <%= f.submit "Add Character to your Team", data: { confirm: 'You have just added #{Hero.find(hero.id).name} to your team.' } %>
  <%end%>
<%end%>
</section>

<section>
  <p>
    <% if !params[:type] || params[:type] == "hero" %>
      <%= link_to "Add a villain instead!", edit_match_team_path(@team.match_id, @team.id, :type => :villain) %>
    <% else %>
      <%= link_to "Add a hero instead!", edit_match_team_path(@team.match_id, @team.id, :type => :hero) %>
    <%end%>
  </p>
</section>